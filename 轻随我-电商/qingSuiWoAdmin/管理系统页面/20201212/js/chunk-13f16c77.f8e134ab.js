(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13f16c77"],{"2e96":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"商品列表"},[a("div",{staticClass:"header1"},[a("div",{staticClass:"left1"},[a("el-select",{attrs:{placeholder:"请选择类型",size:"mini"},on:{change:e.changeCategory},model:{value:e.query.categoryId,callback:function(t){e.$set(e.query,"categoryId",t)},expression:"query.categoryId"}},[a("el-option",{attrs:{label:"全部类型",value:""}}),e._l(e.分类,(function(e){return a("el-option",{attrs:{label:e.name,value:e.id}})}))],2),a("el-button",{attrs:{type:"success",size:"mini",plain:!e.query.isHomePage},on:{click:function(t){e.筛选("isHomePage")}}},[e._v("查看放置首页")]),a("el-button",{attrs:{type:"success",size:"mini",plain:!e.query.isRecommend},on:{click:function(t){e.筛选("isRecommend")}}},[e._v("查看推荐")])],1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.$router.push("/index/product")}}},[e._v("添加商品")])],1),a("div",{staticClass:"table"},[a("el-table",{attrs:{data:e.list,border:"",size:"small"}},[a("el-table-column",{attrs:{label:"id",prop:"id",width:"50px"}}),a("el-table-column",{attrs:{label:"分类",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.分类名称(t.row))+" ")]}}])}),a("el-table-column",{attrs:{label:"放置首页",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isHomePage?a("i",{staticClass:"red-text el-icon-check"}):e._e()]}}])}),a("el-table-column",{attrs:{label:"推荐",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isRecommend?a("i",{staticClass:"red-text el-icon-check"}):e._e()]}}])}),a("el-table-column",{attrs:{label:"商品名称",prop:"name"}}),a("el-table-column",{attrs:{label:"一级价格",prop:"levelOnePrice"}}),a("el-table-column",{attrs:{label:"二级价格",prop:"levelTwoPrice"}}),a("el-table-column",{attrs:{label:"积分价格",prop:"creditPrice"}}),a("el-table-column",{attrs:{label:"购买级别"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.level?a("span",[e._v("所有用户")]):e._e(),1==t.row.level?a("span",[e._v("一级和二级用户")]):e._e(),2==t.row.level?a("span",[e._v("二级用户")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"返利"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isKickback?a("span",[e._v(e._s(t.row.kickbackRate))]):a("span",[e._v("无")])]}}])}),a("el-table-column",{attrs:{label:"销量",prop:"soldCount"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createdAt"}}),a("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit",circle:""},on:{click:function(a){return e.$router.push("/index/product?id="+t.row.id)}}}),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:function(a){e.删除(t.row)}}})]}}])})],1)],1),a("div",{staticClass:"分页"},[a("el-pagination",{attrs:{background:"","page-size":e.query.size,layout:"prev, pager, next",total:e.total},on:{"current-change":e.changePage}})],1)])},i=[],o=(a("7db0"),a("b0c0"),{name:"",data:function(){return{list:[],total:0,query:{page:1,size:8,categoryId:"",isHomePage:"",isRecommend:"",isSeckill:!1},"分类":[]}},methods:{"筛选":function(e){this.query[e]=!this.query[e]||"",this.query.page=1,this.getList()},"分类名称":function(e){return this.分类.find((function(t){return t.id==e.categoryId}))?this.分类.find((function(t){return t.id==e.categoryId})).name:""},changeCategory:function(){console.log(this.query.categoryId),this.query.page=1,this.getList()},getList:function(){var e=this;this.$axios.get("/api/product",{params:this.query}).then((function(t){0==t.code&&(e.list=t.data,e.total=t.total)}))},changePage:function(e){this.query.page=e,this.getList()},"删除":function(e){var t=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$loading(1),t.$axios.delete("/api/product/".concat(e.id)).then((function(e){0==e.code?t.$message({showClose:!0,message:"删除成功",type:"success"}):t.$message({showClose:!0,message:"删除失败",type:"error"}),t.getList(),t.$loading(0)})).catch((function(e){t.$loading(0),t.$message({showClose:!0,message:"删除失败",type:"error"})}))}))},"获取分类":function(){var e=this;this.$axios.get("/api/category",{params:{page:1,size:1e3}}).then((function(t){0===t.code&&(e.分类=t.data)}))}},mounted:function(){this.获取分类(),this.getList()}}),s=o,l=(a("e666"),a("2877")),r=Object(l["a"])(s,n,i,!1,null,"8e6efe78",null);t["default"]=r.exports},"5e75":function(e,t,a){var n=a("dad6");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("741ebe30",n,!0,{sourceMap:!1,shadowMode:!1})},"7db0":function(e,t,a){"use strict";var n=a("23e7"),i=a("b727").find,o=a("44d2"),s=a("ae40"),l="find",r=!0,c=s(l);l in[]&&Array(1)[l]((function(){r=!1})),n({target:"Array",proto:!0,forced:r||!c},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(l)},dad6:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".red-text[data-v-8e6efe78]{color:red;font-weight:700}.header1[data-v-8e6efe78]{margin:0 0 10px;display:flex;justify-content:space-between}.header1 .el-select[data-v-8e6efe78]{margin-right:10px}.header1 .el-button--success.is-plain[data-v-8e6efe78]{background-color:#f0f9eb;color:#67c23a}.table[data-v-8e6efe78]{min-height:400px}.分页[data-v-8e6efe78]{text-align:right;margin:10px 0}",""]),e.exports=t},e666:function(e,t,a){"use strict";a("5e75")}}]);
//# sourceMappingURL=chunk-13f16c77.f8e134ab.js.map