(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46f9c60d"],{"1ae0":function(e,t,i){var n=i("b50f");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("499e").default;a("b95ec040",n,!0,{sourceMap:!1,shadowMode:!1})},"488c":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"title1"},[e._v(" 基础信息设置 ")]),i("el-form",{staticClass:"form",attrs:{model:e.基础信息,size:"small"},nativeOn:{submit:function(e){e.preventDefault()}}},[i("el-form-item",{attrs:{label:"微信联系方式"}},[i("el-input",{attrs:{placeholder:"如：15111111111（微信）"},model:{value:e.基础信息.wxAccount,callback:function(t){e.$set(e.基础信息,"wxAccount",t)},expression:"基础信息.wxAccount"}})],1),i("div",{staticClass:"title2"},[e._v(" 关于我们介绍 ")]),i("div",{staticClass:"编辑器"},[i("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:e.editorOption},model:{value:e.基础信息.introduction,callback:function(t){e.$set(e.基础信息,"introduction",t)},expression:"基础信息.introduction"}})],1),i("el-button",{staticClass:"btn_1",attrs:{"native-type":"submit",type:"warning"},on:{click:function(t){return e.onSubmit()}}},[e._v("保存")])],1),e.showFile?i("input",{ref:"file1",staticClass:"fileInput",attrs:{type:"file",accept:"image/*"},on:{change:e.fileChange}}):e._e()],1)},a=[],o=(i("96cf"),i("1da1")),s=i("953d"),r=(i("a753"),i("8096"),i("14e1"),{name:"",components:{quillEditor:s["quillEditor"]},data:function(){var e=this;return{showFile:!1,"基础信息":{wxAccount:"",introduction:""},editorOption:{placeholder:"请输入内容",modules:{toolbar:{container:[["bold","italic","underline","strike"],[{header:1},{header:2}],[{color:[]},{background:[]}],["image"]],handlers:{image:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i?e.changeFile(3):console.log(!1);case 1:case"end":return t.stop()}}),t)})));function i(e){return t.apply(this,arguments)}return i}()}}}}}},methods:{changeFile:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showFile=!1,t.next=3,e.$nextTick();case 3:e.showFile=!0,e.$nextTick((function(){e.$refs.file1.click()}));case 5:case"end":return t.stop()}}),t)})))()},fileChange:function(e){var t=this,i=e.target.files[0];this.$loading(1);var n=new FormData;n.append("file",i),this.$axios({method:"post",url:this.$api_url+"/api/upload",data:n}).then((function(e){if(console.log(e),e.data&&e.data.length>0){var i=t.$refs.myQuillEditor.quill,n=i.getSelection().index;i.insertEmbed(n,"image",t.$api_url+"/"+e.data[0]),i.setSelection(n+1)}else t.$message({showClose:!0,message:"图片上传失败",type:"error"});t.$loading(0)})).catch((function(e){t.$message({showClose:!0,message:"图片上传失败",type:"error"}),t.$loading(0)}))},onSubmit:function(){var e=this;delete this.基础信息.createdAt,delete this.基础信息.deletedAt,delete this.基础信息.updatedAt,delete this.基础信息.id,this.$axios.post("/api/config",this.基础信息).then((function(t){console.log(t),0===t.code?(e.$message({showClose:!0,message:"保存成功",type:"success"}),e.getConfig()):e.$message({showClose:!0,message:t.message,type:"error"})})).catch((function(t){e.$message({showClose:!0,message:"网络错误，稍后再试",type:"error"})}))},getConfig:function(){var e=this;this.$axios.get("/api/config").then((function(t){console.log(t),0===t.code&&t.data&&(e.基础信息=t.data)})).catch((function(e){}))}},mounted:function(){this.getConfig()}}),c=r,l=(i("f986"),i("2877")),d=Object(l["a"])(c,n,a,!1,null,"1a77fcdd",null);t["default"]=d.exports},b50f:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".title1[data-v-1a77fcdd]{border-bottom:1px solid #eee;padding:0 0 10px}.fileInput[data-v-1a77fcdd]{display:none}.form[data-v-1a77fcdd]{padding:10px;margin:20px auto 0;width:400px;border:1px solid #eee}[data-v-1a77fcdd] .ql-editor{min-height:200px}.title2[data-v-1a77fcdd]{color:#606266;line-height:32px}.btn_1[data-v-1a77fcdd]{width:100%;margin:20px 0 0}",""]),e.exports=t},f986:function(e,t,i){"use strict";i("1ae0")}}]);
//# sourceMappingURL=chunk-46f9c60d.1f679ea5.js.map