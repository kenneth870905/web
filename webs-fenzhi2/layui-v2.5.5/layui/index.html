<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>开始使用layui</title>
    <link rel="stylesheet" href="css/layui.css">
</head>

<body>

    <!-- 你的HTML代码 -->
    <div id="app">


    <div class="layui-tab layui-tab-brief" lay-allowClose="true" lay-filter="test1">
        <ul class="layui-tab-title">
            <li class="layui-this" lay-id="111">网站设置</li>
            <li lay-id="222">用户管理</li>
            <li lay-id="333">权限分配</li>
            <li lay-id="444">商品管理</li>
            <li lay-id="555">订单管理</li>
        </ul>
        <div class="layui-tab-content">
            <div class="layui-tab-item layui-show">内容1</div>
            <div class="layui-tab-item">内容2</div>
            <div class="layui-tab-item">内容3</div>
            <div class="layui-tab-item">内容4</div>
            <div class="layui-tab-item">内容5</div>
        </div>
    </div>

    <div class="layui-form">
        <form class="" action=""></form>
            <div class="layui-form-item">
                <label class="layui-form-label">选择框</label>
                <div class="layui-input-block">
                    <select name="city" lay-verify="required" class="city">
                        <option value=""></option>
                        <option value="0">北京</option>
                        <option value="1">上海</option>
                        <option value="2">广州</option>
                        <option value="3">深圳</option>
                        <option value="4">杭州</option>
                    </select>
                </div>
            </div>
        </form>
    </div>
    <div>表格</div>
    <table id="demo" lay-filter="test"></table>
</div>




    <!-- <script src="layui.js"></script> -->
    <!-- <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <script src="layui.all.js"></script>

    <!-- <script src="lay/modules/form.js"></script> -->
    <script>

        function onload(){
            console.log('onload')
            //一般直接写在一个js文件中
            layui.use(['layer', 'form','table'], function () {
                var layer = layui.layer , form = layui.form;
                layer.msg('Hello World');
                form.render('select');
                var table = layui.table;
                    //第一个实例
                table.render({
                    elem: '#demo'
                    ,height: 312
                    ,url: 'http://localhost:81/shoujiBizi/public/index/queryImgList?pageIndex=1&pageSize=30' //数据接口
                    ,page: true //开启分页
                    ,cols: [[ //表头
                        {field: 'id', title: 'ID', width:80, sort: true, fixed: 'left'}
                        ,{field: 'username', title: '用户名', width:80}
                        ,{field: 'sex', title: '性别', width:80, sort: true}
                        ,{field: 'city', title: '城市', width:80} 
                        ,{field: 'sign', title: '签名', width: 177}
                        ,{field: 'experience', title: '积分', width: 80, sort: true}
                        ,{field: 'score', title: '评分', width: 80, sort: true}
                        ,{field: 'classify', title: '职业', width: 80}
                        ,{field: 'wealth', title: '财富', width: 135, sort: true}
                    ]]
                });

            });

            var element = '';
            layui.use('element', function () {
                element = layui.element;
                //删除 
                // 可以在标签上添加 lay-allowClose="true"
                // 设置默认
                var layid = location.hash.replace(/^#test1=/, '');
                // layid = '444'
                // console.log(layid)
                element.tabChange('test1', layid); //假设当前地址为：http://a.com#test1=222，那么选项卡会自动切换到“发送消息”这一项
                //监听Tab切换，以改变地址hash值
                element.on('tab(test1)', function () {
                    console.log(this.getAttribute('lay-id'))
                    location.hash = 'test1=' + this.getAttribute('lay-id');
                });
            });

            setInterval(() => {
                element.tabAdd('test1', {
                    title: '选项卡的标题'
                    , content: '选项卡的内容' //支持传入html
                    , id: 'new1'
                });
            }, 3000);

            setTimeout(() => {
                element.tabDelete('test1', '444'); //删除 lay-id="xxx" 的这一项  
            }, 2000);
        }
        
        
        var app = new Vue({
            el: '#app',
            data: {
                message: 'Hello Vue!'
            },
            mounted() {
                onload()
            },
            updated() {
            },
        })
    </script>
</body>

</html>