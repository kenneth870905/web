<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div id="app">
        {{message}}
    </div>
    <script src="jquery-3.4.1.min.js"></script>
    <!-- 时间格式化 -->
    <script src="js/moment.js"></script>
    <script src="sweetalert2/sweetalert2.js"></script>    
    <script src="js/vue.js"></script>
    <script src="js/rem.js"></script>
    <script>
        Vue.config.productionTip = false
        var url = ""
        // 添加的
        var userList = ['huhu02','13266708555','18741853999','13047248555','13098990000','15005477777']
        function GetRequest() {
            var url = location.search;
            var theRequest = new Object();
            if (url.indexOf("?") != -1) {
                var str = url.substr(1);
                strs = str.split("&");
                for (var i = 0; i < strs.length; i++) {
                    theRequest[strs[i].split("=")[0]] = decodeURI(strs[i].split("=")[1]);
                }
            }
            return theRequest;
        }

        var app2 = new Vue({
            el: '#app',
            data: {
                message: '页面加载于 '
            },
            methods: {
                back:function(){
                    history.back()
                },
                g1:function(){
                    parent.appVue.toPath('/home/discounts?i=118')
                },
                dinghsiqi:function(){
                    var this_1 = this;
                    this.time1--;
                    if (this.time1 < 0 && this.time1 > -60*10){
                        console.log(1)
                        this.kelingqu = 1
                        this.value = { t:'00',h:'00', m:'00', s:'00'}
                    } else if(this.time1 < -60*10){
                        this.kelingqu = 0
                        this.init()
                        console.log(2)
                    }else {
                        console.log(3)
                        this.kelingqu = 0
                        var t = '00' + Math.floor(this.time1 / 3600 / 24);
                        var h = '00' + Math.floor(this.time1 / 3600);
                        var m = '00' + Math.floor((this.time1 / 60 % 60));
                        var s = '00' + Math.floor((this.time1 % 60));
                        this.value = { t:t.substr(t.length - 2) ,h: h.substr(h.length - 2), m: m.substr(m.length - 2), s: s.substr(s.length - 2) }
                    }
                    this.time3 = setTimeout(function(){
                        this_1.dinghsiqi();
                    }, 1000);
                },
                getTime:function(time){
                    // time 格式为 YYYY-MM-DD 21:00:00
                    var t=time.replace(/-/g,':').replace(' ',':');
                        t=t.split(':');
                    return new Date(t[0],(t[1]-1),t[2],t[3],t[4],t[5]).getTime()
                },
               
                
                
                
            }
        })
    </script>
</body>
</html>