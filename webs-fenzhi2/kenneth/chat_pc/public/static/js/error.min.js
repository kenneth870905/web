"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){if(window.errLogReport)return window.errLogReport;function u(n){(n=n||{}).type=(n.type||"GET").toUpperCase(),n.dataType=n.dataType||"json";var e=function(e){var n=[];for(var o in e)n.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return n.push(("v="+Math.random()).replace(".","")),n.join("&")}(n.data);if(window.XMLHttpRequest)var o=new XMLHttpRequest;else o=new ActiveXObject("Microsoft.XMLHTTP");o.onreadystatechange=function(){if(4==o.readyState){var e=o.status;200<=e&&e<300?n.success&&n.success(o.responseText,o.responseXML):n.fail&&n.fail(e)}},"GET"==n.type?(o.open("GET",n.url+"?"+e,!0),o.send(null)):"POST"==n.type&&(o.open("POST",n.url,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(e))}function c(){var e=arguments;if(!(e.length<2)){for(var n=function(e){if("object"!==(void 0===e?"undefined":_typeof(e)))return e;if(null==e)return e;var n=new Object;for(var o in e)n[o]=e[o];return n}(e[0]),o=1,r=e.length;o<r;o++)for(var t in e[o])n[t]=e[o][t];return n}}var e,n,o,d={ua:window.navigator.userAgent,browser:(n=navigator.userAgent,o=-1<n.indexOf("Opera"),o?"Opera":-1<n.indexOf("Firefox")?"FF":-1<n.indexOf("Chrome")?"Chrome":-1<n.indexOf("Safari")?"Safari":-1<n.indexOf("compatible")&&-1<n.indexOf("MSIE")&&!o?"IE":void 0),os:function(){var e=navigator.userAgent;if(navigator.appVersion,!/AppleWebKit.*Mobile/i.test(navigator.userAgent)&&!/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))return-1<e.indexOf("iPad")?"iPhone":"Android";if(window.location.href.indexOf("?mobile")<0)try{return/iPhone|mac|iPod|iPad/i.test(navigator.userAgent)?"iPhone":"Android"}catch(e){}}(),osVersion:(e=window.navigator.userAgent,0<=e.indexOf("CPU iPhone OS ")?e.substring(e.indexOf("CPU iPhone OS ")+14,e.indexOf(" like Mac OS X")):0<=e.indexOf("Android ")?e.substr(e.indexOf("Android ")+8,3):"other"),errUrl:window.location.href,msg:"",url:"",line:"",col:"",error:""};window.errLogReport=function(s){s.url&&(window.onerror=function(e,t,i,a,f){return setTimeout(function(){if(a=a||window.event&&window.event.errorCharacter||0,d.url=t,d.line=i,d.col=a,f&&f.stack)d.msg=f.stack.toString();else if(arguments.callee){for(var e=[],n=arguments.callee.caller,o=3;n&&0<--o&&(e.push(n.toString()),n!==n.caller);)n=n.caller;d.msg=e.join(",")}var r=c(s.data||{},d);console.log(r),u({url:s.url,type:"POST",data:r,dataType:"json",success:function(e,n){s.successCallBack&&s.successCallBack(e,n)},fail:function(e){s.failCallBack&&s.failCallBack(e)}})},0),!0})}}(),"undefined"!=typeof module?module.exports=window.errLogReport:"function"==typeof define&&define.amd&&define([],function(){return window.errLogReport});