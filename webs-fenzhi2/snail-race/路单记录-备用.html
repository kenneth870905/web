<div class="Cnn">
  <div class="WinContent" style="overflow: auto;">
    <style>
      #LotteryWayValue {
        background: rgba(255, 255, 255, .8)
      }

      .snail-way-red {
        background-image: url(images/red_txt_ico.png);
      }

      .snail-way-blue {
        background-image: url(images/blue_txt_ico.png);
      }

      .snail-way-green {
        background-image: url(images/green_txt_ico.png);
      }

      .snail-way-red,
      .snail-way-green,
      .snail-way-blue,
      .snail-way-periods-1,
      .snail-way-periods-2,
      .snail-way-periods-3 {
        background-repeat: no-repeat;
        display: inline-block;
        text-shadow: 0px 0px 0px #080808;
        width: 50px;
        height: 46px;
        margin-bottom: 2px;
      }

      .snail-way-periods-1 {
        background-image: url(images/red_ico.png);
      }

      .snail-way-periods-2 {
        background-image: url(images/green_ico.png);
      }

      .snail-way-periods-3 {
        background-image: url(images/blue_ico.png);
      }

      .box-top {
        padding: 8px 30px 7px;
        font-size: 20px;
      }

      .box-top>span {
        display: inline-block;
        padding: 0 10px;
        font-size: 12px;
      }

      .box-main {
        z-index: 999;
        width: 100%;
        padding: 15px;
        background: #fff;
        overflow: auto;
        height: 440px;
      }

      .box_content {
        padding-right: 7px;
        padding-left: 8px;
        /*width: 1137px;*/
      }

      .box_content_fh {
        float: right;
        width: 52px;
        margin-right: -1px;
      }

      .box_content_chd,
      .box_content_title {
        width: 52px;
        height: 48px;
        border: 1px solid #cfbeac;
        margin-top: -1px;
        float: left;
      }

      .box_content_title {
        margin-top: 0;
      }

      .box_content_chd {
        text-align: center;
        padding: 0;
        color: #fff;
        line-height: 42px;
      }

      .box_content_fh>.box_content_title {
        line-height: 46px;
        text-align: center;
        font-size: 20px;
        /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#f4ebe2+0,ede4dd+31,e2d9d0+50,ece3dc+66,eee5dc+75,f5ece5+100 */
        background: rgb(244, 235, 226);
        /* Old browsers */
        background: -moz-linear-gradient(top, rgba(244, 235, 226, 1) 0%, rgba(237, 228, 221, 1) 31%, rgba(226, 217, 208, 1) 50%, rgba(236, 227, 220, 1) 66%, rgba(238, 229, 220, 1) 75%, rgba(245, 236, 229, 1) 100%);
        /* FF3.6-15 */
        background: -webkit-linear-gradient(top, rgba(244, 235, 226, 1) 0%, rgba(237, 228, 221, 1) 31%, rgba(226, 217, 208, 1) 50%, rgba(236, 227, 220, 1) 66%, rgba(238, 229, 220, 1) 75%, rgba(245, 236, 229, 1) 100%);
        /* Chrome10-25,Safari5.1-6 */
        background: linear-gradient(to bottom, rgba(244, 235, 226, 1) 0%, rgba(237, 228, 221, 1) 31%, rgba(226, 217, 208, 1) 50%, rgba(236, 227, 220, 1) 66%, rgba(238, 229, 220, 1) 75%, rgba(245, 236, 229, 1) 100%);
        /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#f4ebe2', endColorstr='#f5ece5', GradientType=0);
        /* IE6-9 */

      }

      .box_content_fh.box_content_even .box_content_chd {
        background: #f7f7f7;
      }

      .refresh-btn,
      .refresh-btn:hover {
        /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#9b644b+0,61360e+100 */
        background: rgb(155, 100, 75);
        /* Old browsers */
        background: -moz-linear-gradient(top, rgba(155, 100, 75, 1) 0%, rgba(97, 54, 14, 1) 100%);
        /* FF3.6-15 */
        background: -webkit-linear-gradient(top, rgba(155, 100, 75, 1) 0%, rgba(97, 54, 14, 1) 100%);
        /* Chrome10-25,Safari5.1-6 */
        background: linear-gradient(to bottom, rgba(155, 100, 75, 1) 0%, rgba(97, 54, 14, 1) 100%);
        /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#9b644b', endColorstr='#61360e', GradientType=0);
        /* IE6-9 */
        line-height: 17px;
        color: #fff;
        border-radius: 4px;
        padding: 2px 10px !important;
        cursor: pointer;
      }

      .refresh-btn:hover {
        opacity: .9;
      }

      .refresh-btn:active {
        /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#57320f+0,8a5941+100 */
        background: rgb(87, 50, 15);
        /* Old browsers */
        background: -moz-linear-gradient(top, rgba(87, 50, 15, 1) 0%, rgba(138, 89, 65, 1) 100%);
        /* FF3.6-15 */
        background: -webkit-linear-gradient(top, rgba(87, 50, 15, 1) 0%, rgba(138, 89, 65, 1) 100%);
        /* Chrome10-25,Safari5.1-6 */
        background: linear-gradient(to bottom, rgba(87, 50, 15, 1) 0%, rgba(138, 89, 65, 1) 100%);
        /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#57320f', endColorstr='#8a5941', GradientType=0);
        /* IE6-9 */
      }

      .box-main::-webkit-scrollbar {
        background-color: rgba(0, 0, 0, .75);
        border-radius: 2px;
        height: 6px;
        width: 12px;

      }

      .box-main::-webkit-scrollbar-track {
        background-color: #eee;
        cursor: pointer;
      }

      .box-main::-webkit-scrollbar-thumb {
        background-color: rgba(0, 0, 0, .75);
        border-radius: 2px;
        height: 6px;
        width: 12px;
      }

      .bg_masks {
        position: absolute;
        width: 100%;
        height: 100%;
        background: #000;
        z-index: 2;
        text-align: center;
        background: rgba(0, 0, 0, .8) url(images/loading.gif) 50% 50% no-repeat;
        color: #FFF;
        top: 0;
        left: 0;
        cursor: wait;
      }
    </style>
    <div id="LotteryWayValue" style="height: 100%; position: relative;">
      <div class="box-top">
        依期数统计结果
        <span id="select_periods">最近 <span id="select_periods_box"><select id="StatisticsLength"
              name="StatisticsLength">
              <option value="100">100</option>
              <option value="200">200</option>
              <option value="300">300</option>
            </select></span> 期 统计结果</span>
        <span class="refresh-btn">刷新</span>
      </div>
      <div class="box-main mCustomScrollbar _mCS_1" style="height: 450px;">
      </div>
    </div>
  </div>
</div>
<script src="js/jquery-3.1.0.min.js"></script>
<script src="js/config.js"></script>

<script>
  var LotteryWayValue = function () {
    var $this = this;
    var that = $("#LotteryWayValue");
    var that_win = that.closest(".Windows");
    var window_div = that.closest(".Windows");
    var len = [];
    var GetStatistics = function (val = 100) {
      $.ajax({
        url: `${config.baseUrl}/Lottery/SnailBet/GetSanilBetContinuColorsResult`,
        type: "POST",
        data: {
          rows: val
        },
        async: true,
        error: function (xhr) {
        },
        success: function (obj) {
          that.find('.bg_masks').remove();
          that.find('.box-main.mCustomScrollbar._mCS_1').html('');
          var div = $('<div/>').addClass("clearfix box_content");
          var Anslysis_info = obj,
            Anslysis_length = obj.length;
          for (let c in Anslysis_info) {
            len.push(Anslysis_info[c].LotteryInfo.length);
            Anslysis_info[c].LotteryInfo.reverse();
          };
          var max = Math.max(...len) + 1;
          var first = true;
          for (var i in Anslysis_info) {
            var divfh = $("<div/>").addClass('box_content_fh');
            if (first) {
              divfh.addClass("FirstDiv");
              first = false;
            };
            switch (Anslysis_info[i].open) {
              case '1': {
                var divTitle = $("<div/>").addClass('box_content_title').append($('<span/>').addClass('snail-way-red'));
                divfh.append(divTitle);
                for (let j = 0; j < Anslysis_info[i].LotteryInfo.length; j++) {
                  var divchild = $("<div/>").addClass('box_content_chd').append($('<span/>').addClass("snail-way-periods-" + Anslysis_info[i].open).html(Anslysis_info[i].LotteryInfo[j]));

                  divfh.append(divchild);
                };
                for (var ni = Anslysis_info[i].LotteryInfo.length; ni < max; ni++) {
                  var divno = $("<div/>").addClass('box_content_chd')
                  divfh.append(divno);
                }
                break;
              }
              case '2': {
                var divTitle = $("<div/>").addClass('box_content_title').append($('<span/>').addClass('snail-way-green'))
                divfh.append(divTitle);
                for (let j = 0; j < Anslysis_info[i].LotteryInfo.length; j++) {
                  var divchild = $("<div/>").addClass('box_content_chd').append($('<span/>').addClass("snail-way-periods-" + Anslysis_info[i].open).html(Anslysis_info[i].LotteryInfo[j]))
                  divfh.append(divchild)
                }
                for (var ni = Anslysis_info[i].LotteryInfo.length; ni < max; ni++) {
                  var divno = $("<div/>").addClass('box_content_chd')
                  divfh.append(divno);
                }
                break;
              };
              case '3': {
                var divTitle = $("<div/>").addClass('box_content_title').append($('<span/>').addClass('snail-way-blue'))
                divfh.append(divTitle);
                for (let j = 0; j < Anslysis_info[i].LotteryInfo.length; j++) {
                  var divchild = $("<div/>").addClass('box_content_chd').append($('<span/>').addClass("snail-way-periods-" + Anslysis_info[i].open).html(Anslysis_info[i].LotteryInfo[j]))
                  divfh.append(divchild);
                };
                for (var ni = Anslysis_info[i].LotteryInfo.length; ni < max; ni++) {
                  var divno = $("<div/>").addClass('box_content_chd');
                  divfh.append(divno);
                }
                break;
              }
            };

            div.append(divfh)
          };
          $('.box-main').append(div);
          that.find('.box_content').width(Anslysis_length * 51 + 24).css('padding-right', '31px');
        }
      });
    }

    GetStatistics();

    this.refresh = function (val) {
      GetStatistics(val);
    }
    var resize = function () {
      that.find(".box-main").height(window_div.find(".Cn").height() - 75);
    }
    var init = function () {
      that.css("position", "relative");
      that.append($('<div/>').addClass("bg_mask"));
      // that.find("#select_periods").html(
      //   LG.gstr("lang_game_snail_wayvalue_select_periods", {
      //     "select": '<span id="select_periods_box"></span>'
      //   })
      // );
      that.find("#select_periods_box").html(
        $("<select/>").attr({
          "id": "StatisticsLength",
          "name": "StatisticsLength"
        }).append(
          $("<option/>").val("100").text("100")
        ).append(
          $("<option/>").val("200").text("200")
        ).append(
          $("<option/>").val("300").text("300")
        )
      )

      that_win.resize(function () {
        resize();
      });
      that.find('#StatisticsLength').change(function (event) {
        that.append($('<div/>').addClass("bg_masks"));
        GetStatistics($(this).val());
      });
      $('.refresh-btn').click(function (event) {
        that.append($('<div/>').addClass("bg_masks"));
        $this.refresh(that.find('#StatisticsLength').val());
      });

    }
    init();
  }
  var Lottery_WayValue = new LotteryWayValue()
</script>