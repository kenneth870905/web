(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"+/fB":function(t,e,n){"use strict";var i=n("GQeE"),s=n.n(i),a=n("/f1G"),o=n.n(a),r=n("QbLZ"),c=n.n(r),u=n("TWhf"),l=n("Y9KG"),h=n("WIBD");Array,u.a,c()({},Object(h.mapState)("cptwebsite/lotters",["select_list","cur_amount"]),{amount:function(){return this.$store.commit("cptwebsite/lotters/change_cur_amount",this.num),this.num},max_win:function(){var i=this.amount||0,t=this.removeDuplicate().reduce(function(t,e){var n=e.odds;return t+parseFloat(i)*parseFloat(n)},0);return isNaN(t)?"00.00":t.toFixed(2)}}),l.getLotteryResource},"3zew":function(t,e,n){"use strict";var i=n("QbLZ"),s=n.n(i),a=n("WIBD"),o=n("g2Ry");e.a={props:{prTitle:{type:[String],default:""},prIschatRoom:{type:Boolean,default:!0},prIsAssitant:{type:Boolean,default:!0},total:{type:[Number,String],default:""}},data:function(){return{currentTotal:this.total,showChat:!1}},components:{assistantButtonMenu:o.default},computed:s()({},Object(a.mapState)("cptwebsite/home",["chat_room_status"])),methods:s()({},Object(a.mapMutations)("cptwebsite/lotters",["TOGGLE_LOTTERY_DRAWER"]),{selectTab:function(t){this.showChat===t?t||this.handleToggle(!0):1===this.chat_room_status.chatRoom?(this.$vux.toast.text(this.chat_room_status.chatTip),this.showChat=!1):this.$router.push({name:"chartroom"})},handleToggle:function(){this.TOGGLE_LOTTERY_DRAWER(!0)},handleRedRecord:function(){this.$checkLogin()?this.$router.push({path:this.$route.fullPath+"/record"}):window.__GLOBAL.LoginControlDialog.open("login")}}),watch:{total:function(t){this.currentTotal=t},showChat:function(t){this.$store.commit("cptwebsite/lotters/change_show_chat_room",t)}}}},BFC2:function(t,e,n){"use strict"},O7GR:function(t,e,n){"use strict";var i=n("P2sY"),s=n.n(i),a=n("sk9p"),r=n.n(a),o=n("4d7F"),c=n.n(o),u=n("QbLZ"),l=n.n(u),h=n("rfXi"),f=n.n(h),d=n("nLTX"),m=n("P0FP"),p=n("WIBD"),g=n("UfWW"),b=n.n(g),v=n("wnYN"),T=n("+WDx"),S=n("3d78"),I=n.n(S),w=n("yHVA"),_=n("hvX3"),k=n("hhvf"),L=n("Yevq"),y=n("KpxS"),D=n("Ep49"),O=f()({length:11}).map(function(t,e){return{src:n("C4sz")("./v"+e+".png")}});Object(T.a)(),d.a,_.default,k.default,L.default,w.default,y.default,m.a,l()({},Object(p.mapGetters)("cptwebsite/chatroom",["message","isConnected"]),Object(p.mapGetters)("cptwebsite/user",["currentInfo"]),Object(p.mapState)("cptwebsite/home",["chat_room_status"])),l()({},Object(p.mapActions)("cptwebsite/chatroom",["createWebSocket"]),{getVipLevel:function(t){if(t||0===t)return 10<t?O[10].src:O[t].src},handleFetch:function(){var s=this;return new c.a(function(i,e){Object(D.a)(s.params).then(function(t){var e=r()(t,2),n=e[0];e[1]||(s.resource=n,s.scrollToBottom()),i()}).catch(function(t){e(t)})})},initMessage:function(){var o=this;return new c.a(function(a,e){Object(D.h)().then(function(t){var e=r()(t,2),n=e[0];if(!e[1]){var i=n.notice,s=n.tatolNumber;o.notice=i,o.setTotalNumber(s)}a()}).catch(function(t){e(t)})})},getChatPackInfo:function(){var i=this;Object(D.b)().then(function(t){var e=r()(t,2),n=e[0];e[1]||(i.chatPackInfo=n&&n.id?n:{})})},onCheckLogin:function(){var e=this;return new c.a(function(t){e.$checkLogin()?t():window.__GLOBAL.LoginControlDialog.open("login",function(){e.uuid=v.a.cookies.get("uuid")})})},onSendBulletin:function(){var t=this;0===this.chat_room_status.chatRoomPack?this.$vux.toast.text(this.chat_room_status.redpackTip):this.onCheckLogin().then(function(){t.$refs.bulletinDialog.open()})},onSubmit:function(){var t=this;this.onCheckLogin().then(function(){t.send.content?t.onSendMessage():t.showOrder=!t.showOrder})},onSendMessage:function(){var n=this;this.canChatroom?(this.canChatroom=!1,setTimeout(function(){n.canChatroom=!0},3e3),this._beforeSendMessage(),Object(D.j)(this.send).then(function(t,e){e||(6===n.messageType&&n.$vux.toast.text(t[1].message),n.send.content="")})):this.$vux.toast.text("发送消息过于频繁")},_beforeSendMessage:function(){var t={head:this.currentInfo.heads,level:parseInt(this.currentInfo.vip.split("VIP")[1]),nickname:this.currentInfo.nickname,content:this.send.content,userId:this.uuid,type:0,messageType:this.messageType};this.resource.push(t),this.scrollToBottom()},handlePush:function(t){var n=this;Object(D.j)(l()({},this.send,{type:1,trackId:t.pushOrderId})).then(function(t,e){e||(n.showOrder=!1)})},onMessage:function(h){var f=this;return new c.a(function(t,e){var n=JSON.parse(h),i=n.data,s=i.messageType,a=i.status;if(0===s)f.uuid!==String(n.data.userId)&&(f.resource.push(n.data),f.scrollToBottom());else if(1===s)f.notice=1===a?n.data.content:null;else if(2===s)f.onDeleteMessage(n.data);else if(3===s)f.onSetBulletinMessage(n.data);else if(4===s)f.setTotalNumber(n.data.totalNumber);else if(5===s){f.chatPackInfo&&f.chatPackInfo.id||(f.chatPackInfo=n.data);var o=n.data,r=o.nickname,c=o.money,u=o.sendNumber;f.$Message({render:function(t){return t("div",[t("h2",r),t("p",c+"元"),t("span",u+"个随机红包")])}})}else if(6===s){f.messageType=6;var l=f;f.$vux.alert.show({title:"提示",content:"聊天正在紧急维护中",onHide:function(){l.$router.push({name:"app"})}})}})},onDeleteMessage:function(t){var e=t.id,n=b()(this.resource,function(t){return t.id===e});this.resource.splice(n,1),this.scrollToBottom()},onSetBulletinMessage:function(t){var e=t.holdNumber,n=t.sendNumber,i=t.redPackId;this.chatPackInfo&&i===this.chatPackInfo.redPackId&&(this.chatPackInfo=s()({},this.chatPackInfo,{holdNumber:e,sendNumber:n}))},setTotalNumber:function(t){var e=this;setTimeout(function(){e.$emit("on-total",t)},100)},scrollToBottom:function(){var t=this;this.$nextTick(function(){t.$refs.scroll.refresh(),t.$refs.scroll.scrollTo(0,t.$refs.scroll.scroll.maxScrollY)})}})},OM7R:function(t,e,n){"use strict";var i=n("sk9p"),s=n.n(i),a=n("nLTX"),o=n("3d78"),r=n.n(o),c=n("Ep49");a.a,Object},PisQ:function(t,e,n){"use strict";var i=n("QbLZ"),s=n.n(i),a=n("WIBD");Object,s()({},Object(a.mapState)("cptwebsite/lotters",["select_list"]))},V3ht:function(t,e,n){"use strict";var i=n("QbLZ"),s=n.n(i),a=n("SdRg"),o=n("WIBD");Number,String,Number,String,s()({},Object(o.mapState)("cptwebsite/lotto",["lotto_list"]))},d3yj:function(t,e,n){"use strict";var i=n("sk9p"),s=n.n(i),a=n("ql3t"),o=n.n(a),r=n("quPc"),c=n("FXae"),u=n("apUr"),l=n("WCs7"),h=n("tS7L"),f=n("Ep49");h.a,r.a,u.a,c.a,l.a},ikB0:function(t,e,n){"use strict";var i=n("+WDx"),s=n("Ep49");Object(i.a)(s.c)},"j/+s":function(t,e,n){"use strict";String,Boolean},j17B:function(t,e,n){"use strict";var i=n("GQeE"),s=n.n(i),a=n("yoIa"),o=n("xsWm"),r=n("GaMG"),c=n("Dc4i"),u=n("eWa3"),l=n.n(u),h=n("bZbt"),f=n.n(h),d=n("BGbd"),m=n("Ye/U"),p=n.n(m),g={email:{fn:l.a,msg:"邮箱格式"},"china-mobile":{fn:function(t){return f()(t,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(t){return 2<=t.length&&t.length<=6},msg:"中文姓名"}};a.a,o.a,c.a,r.a,String,String,String,String,Number,String,Boolean,Boolean,String,String,String,Function,Number,Number,Boolean,String,String,String,String,String,String,Boolean,String,Number,String,String,String,Boolean},mXLA:function(t,e,n){"use strict";var i=n("Dbz9"),a=n.n(i),s=n("GQeE"),m=n.n(s),o=n("QbLZ"),r=n.n(o),c=n("ourP"),u=n("WIBD"),l=n("Lssz"),h=n("YhLu"),f=n("Nllp"),d=n.n(f),p=n("Efck"),g=n.n(p),b=n("jhii"),v=n("Y9KG"),T=n("MldA"),S=n("S6eN"),I=n("8y8c"),w=[1101,1102,1103,1104,1105,1106,1201,1202,1203,1204,1301,1302,1303,1304,2201,2202,2203,1901,1902,1903,2001,2002,2003,1701,1702,1703,1801,1802,1803,1401,1501,1601];e.a={name:"fantan_perchase",components:{navBack:c.default,clBetOp:h.default,ChatRoom:T.default,messageDialog:b.default,longDragItem:S.default},props:{prShowHead:{type:Boolean,default:!0}},mixins:[l.mixParams,v.getLotteryResource],created:function(){this.setDatas()},data:function(){return{leftMenu:"douniu",showPushDialog:!1,sdpk10:d.a,sdssc:g.a,sellist:[],list:[],timer:null,prepareList:[],getDataTimer:null,getDataIntScond:20,leftTimer:null,leftScon:20,topics:I.default.map(function(t){return t.topic})}},computed:r()({},Object(u.mapState)("cptwebsite/lotters",["index_menu","menu_list"]),Object(u.mapState)("cptwebsite/lotto",["lotto_list"])),mounted:function(){this.setLeftInterval(),this.setGetDateTimeout()},destroyed:function(){this.clearAllTimer()},watch:{lotto_list:{deep:!0,handler:function(){}},menu_list:{deep:!0,handler:function(){this.setDatas()}}},methods:{onMessage:function(t,e){e=(e=JSON.parse(e.toString())).data?e.data:e,m()(e).forEach(function(t){})},showPushSetting:function(){this.showPushDialog=!0},setGetDateTimeout:function(){var t=this;this.clearGetDateTimer(),this.getDataTimer=window.setTimeout(function(){t.clearGetDateTimer(),t.clearLeftTimer(),t.setDatas()},1e3*this.getDataIntScond)},setLeftInterval:function(){var t=this;this.clearLeftTimer(),this.leftScon=20,this.leftTimer=window.setInterval(function(){t.leftScon--},1e3)},setDatas:function(){this.resetSelectList(),this.fetchChanglong(this.initialChanglData)},initialChanglData:function(t){var e=this,h=this.menu_list,s=this,f=[],d={};if(this.setLeftInterval(),this.setGetDateTimeout(),w.forEach(function(t){d["icon"+t]=e._getImage("lottery_icon",t+".png")}),m()(h).length){var n=t.map(function(t,a){var e=t,o=t.typeId,r=t.playTagId,n=e.odds,c=t.playTag,u=t.nextIssue;e.imgUrl=d["icon"+t.typeId];var i=s.lotto_list[0].find(function(t){return t.id===e.typeId});return e.time=i.time,e.isActive=!1,m()(h).forEach(function(t,i){if(t===o){var s=h[t];m()(s).forEach(function(t,n){var e=s[t][0];if(e.playChildren.length)e.playChildren.forEach(function(t){var e=t.oddsList;t.playTagId===r&&l(e,{ki:i,kki:n,issue:u,playTagId:r})});else if(e.playTagId===r){f.push(1),l(e.oddsList,{ki:i,kki:n,issue:u,playTagId:r})}})}}),e;function l(i,s){n=n.map(function(e,t){var n=i.find(function(t){return t.name===e.playTypeName});return e.issue=s.issue,e.odds=n.odds,e.playTagId=s.playTagId,e.settingId=n.settingId,e.tagName=c,e.selectId=a+"_menu_"+s.ki+"_sel_"+s.kki+"_od_"+t,e.lotteryId=o,e})}});this.list=a()(n)}},selectItem:function(n){var i=this,s=this;this.list=this.list.map(function(t){return t.odds=t.odds&&t.odds.map(function(t){if(t.selectId===n.selectId)if(t.isActive){t.isActive=!1;var e=s.sellist.findIndex(function(t){return t.playTypeId===n.playTypeId});i.sellist.splice(e,1)}else t.isActive=!0,i.sellist.push(t);return t}),t}),this.$store.commit("cptwebsite/lotters/change_select_list",this.sellist)},resetSelectList:function(){this.sellist=[],this.$store.commit("cptwebsite/lotters/change_select_list",this.sellist)},clearAllTimer:function(){this.clearGetDateTimer(),this.clearLeftTimer()},clearGetDateTimer:function(){clearTimeout(this.getDataTimer),this.getDataTimer=null},clearLeftTimer:function(){clearInterval(this.leftTimer),this.leftTimer=null},delOP:function(){this.resetSelectList()}}}},rFIh:function(t,e,n){"use strict"},sc9J:function(t,e,n){"use strict";var i=n("TAoo"),s=n.n(i),a=n("a6Vb");n("jBP+").a,String,String,String,String,String,Number,Object,String,Number,String},tNiJ:function(t,e,n){"use strict";var i=n("X7vu"),s=n("7fL1"),a={};Object,s.default,i.default},wKke:function(t,e,n){"use strict";var i=n("quPc"),s=n("WCs7");i.a,Boolean,s.a},zdox:function(t,e,n){"use strict";String}}]);