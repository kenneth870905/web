{"version":3,"sources":["webpack:///./src/views/login.vue?6dcb","webpack:///./src/views/login.vue?f8da","webpack:///./src/views/login.vue?0ecf","webpack:///./src/views/login.vue","webpack:///./src/views/login.vue?d8b7"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","__esModule","default","locals","add","class","src","alt","srcset","ref","model","user","rules","autocomplete","label-position","prop","username","submitForm","placeholder","password","show-password","label","type","style","proxy","from1","required","message","trigger","form","validate","valid","console","log","$axios","post","then","res","code","$message","showClose","localStorage","videoUpdate","token","$router","catch","err","error","render","__scopeId"],"mappings":"gHAAA,W,qBCCA,IAAIA,EAA8B,EAAQ,QAC1CC,EAAUD,GAA4B,GAEtCC,EAAQC,KAAK,CAACC,EAAOC,EAAI,obAAqb,KAE9cD,EAAOF,QAAUA,G,qBCHjB,IAAII,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,kBAAZF,IAAsBA,EAAU,CAAC,CAACF,EAAOC,EAAIC,EAAS,MAC7DA,EAAQG,SAAQL,EAAOF,QAAUI,EAAQG,QAE5C,IAAIC,EAAM,EAAQ,QAA+DF,QACpEE,EAAI,WAAYJ,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,K,+ICRnEK,MAAM,S,EACP,eAAsD,OAAjDC,IAAI,qBAAqBD,MAAM,KAAKE,IAAA,GAAIC,OAAA,I,WAEzC,eAA2B,MAAvBH,MAAM,SAAQ,QAAI,G,iBAQ+C,M,iMAX7E,eAcM,MAdN,EAcM,CAbF,EACA,eAWU,GAXDI,IAAI,QAASC,MAAO,EAAAC,KAAOC,MAAO,EAAAA,MAAOP,MAAM,aAAaQ,aAAa,KAAKC,iBAAe,Q,WAClG,IAA2B,CAA3B,EACA,eAEe,GAFDC,KAAK,YAAU,C,UACzB,IAA0F,CAA1F,eAA0F,G,WAAvE,EAAAJ,KAAKK,S,qCAAL,EAAAL,KAAKK,SAAQ,GAAG,QAAK,gBAAe,EAAAC,WAAU,oBAAEC,YAAA,I,yCAEvE,eAEe,GAFDH,KAAK,YAAU,C,UACzB,IAAyG,CAAzG,eAAyG,G,WAAtF,EAAAJ,KAAKQ,S,qCAAL,EAAAR,KAAKQ,SAAQ,GAAG,QAAK,gBAAe,EAAAF,WAAU,oBAAGC,YAAA,GAAYE,gBAAA,I,yCAEpF,eAEe,GAFDC,MAAA,IAAK,C,UACf,IAA+E,CAA/E,eAA+E,GAApEC,KAAK,UAAUC,MAAA,eAAoB,QAAO,EAAAN,Y,WAAY,IAAE,C,8EAUpE,GAEX,QAEI,MAAM,MAAEO,GAAW,iBAEbC,EAAQ,eAAI,MACZd,EAAO,eAAS,CAClBK,SAAU,GACVG,SAAU,KAERP,EAAQ,CACVI,SAAU,CACN,CAAEU,UAAU,EAAMC,QAAS,SAAUC,QAAS,SAElDT,SAAU,CACN,CAAEO,UAAU,EAAMC,QAAS,QAASC,QAAS,UAG/CX,EAAa,KACf,IAAIY,EAAO,eAAMJ,GACjBI,EAAKC,SAAUC,IACX,IAAIA,EAiBA,OADAC,QAAQC,IAAI,mBACL,EAhBPD,QAAQC,IAAItB,GACZa,EAAMU,OAAOC,KAAK,QAASxB,GAAMyB,KAAKC,IAClCL,QAAQC,IAAII,GACI,GAAZA,EAAIC,MACJd,EAAMe,SAAS,CAAEC,WAAW,EAAOb,QAAS,OAAQL,KAAM,YAC1DmB,aAAaC,YAAcL,EAAIM,MAC/BnB,EAAMoB,QAAQ/C,KAAK,MAEnB2B,EAAMe,SAAS,CAAEC,WAAW,EAAOb,QAAS,OAASL,KAAM,YAEhEuB,MAAMC,IACLtB,EAAMe,SAAS,CAAEC,WAAW,EAAMb,QAAS,aAAcL,KAAM,UAC/DU,QAAQe,MAAMD,QAW9B,OAFA,eAAU,QAEH,CACHnC,OACAC,QACAa,QACAR,gB,UCnEZ,EAAO+B,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"202143/js/chunk-d8839202.6839bf1d.js","sourcesContent":["export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./login.vue?vue&type=style&index=0&id=4cdf801c&lang=scss&scoped=true\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".login[data-v-4cdf801c]{position:relative;display:flex;justify-content:center;align-items:center}.bg[data-v-4cdf801c],.login[data-v-4cdf801c]{height:100%}.bg[data-v-4cdf801c]{position:absolute;width:100%;-o-object-fit:cover;object-fit:cover;top:0;left:0}.login-form[data-v-4cdf801c]{position:relative;z-index:1;width:400px;background:rgba(0,38,70,.9);padding:1px 10px;border-radius:5px}.login-form .title[data-v-4cdf801c]{color:#fff}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./login.vue?vue&type=style&index=0&id=4cdf801c&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"d92a2d5e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<template>\r\n    <div class=\"login\">\r\n        <img src=\"static/loginbg.png\" class=\"bg\" alt srcset />\r\n        <el-form ref=\"from1\" :model=\"user\" :rules=\"rules\" class=\"login-form\" autocomplete=\"on\" label-position=\"left\">\r\n            <h3 class=\"title\">视频管理</h3>\r\n            <el-form-item prop=\"username\">\r\n                <el-input v-model=\"user.username\" @keyup.enter.native=\"submitForm\" placeholder></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"password\">\r\n                <el-input v-model=\"user.password\" @keyup.enter.native=\"submitForm\"  placeholder show-password></el-input>\r\n            </el-form-item>\r\n            <el-form-item label>\r\n                <el-button type=\"primary\" style=\"width:100%\" @click=\"submitForm\">登录</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, onMounted, getCurrentInstance, toRefs, ref, unref } from 'vue'\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n\r\n    setup() {\r\n        //引用全局变量\r\n        const { proxy  } = getCurrentInstance();\r\n\r\n        const from1 = ref(null);\r\n        const user = reactive({\r\n            username: \"\",\r\n            password: \"\"\r\n        })\r\n        const rules = {\r\n            username: [\r\n                { required: true, message: '请输入用户名', trigger: 'blur' },\r\n            ],\r\n            password: [\r\n                { required: true, message: '请输入密码', trigger: 'blur' },\r\n            ]\r\n        }\r\n        const submitForm = () => {\r\n            let form = unref(from1);\r\n            form.validate((valid) => {\r\n                if (valid) {\r\n                    console.log(user)\r\n                    proxy.$axios.post('login', user).then(res => {\r\n                        console.log(res)\r\n                        if (res.code == 1) {\r\n                            proxy.$message({ showClose: true,  message: '登录成功', type: 'success' });\r\n                            localStorage.videoUpdate = res.token\r\n                            proxy.$router.push('/')\r\n                        } else {\r\n                            proxy.$message({ showClose: true,  message: '登录失败',  type: \"error\" });\r\n                        }\r\n                    }).catch(err => {\r\n                        proxy.$message({ showClose: true, message: '连接异常，请稍后再试', type: \"error\" });\r\n                        console.error(err);\r\n                    })\r\n                } else {\r\n                    console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n\r\n        onMounted(() => {\r\n        })\r\n        return {\r\n            user,\r\n            rules,\r\n            from1,\r\n            submitForm\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n.bg {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    top: 0px;\r\n    left: 0px;\r\n}\r\n.login-form {\r\n    position: relative;\r\n    z-index: 1;\r\n    width: 400px;\r\n    background: rgba(#002646, 0.9);\r\n    padding: 1px 10px;\r\n    border-radius: 5px;\r\n    .title {\r\n        color: #fff;\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./login.vue?vue&type=template&id=4cdf801c&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=4cdf801c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4cdf801c\"\n\nexport default script"],"sourceRoot":""}