<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>澳门六合彩开奖信息校对</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="vue">
        <h3>澳门六合彩开奖信息校对</h1>
        <form class="form" @submit.prevent="onSubmit">
            <ul class="">
                <li class="t1">开奖配置</li>
                <li>
                    <label for="">下期期号</label>
                    <input type="text" placeholder="" v-model="form.issue">
                </li>
                <li>
                    <label for="">最近一期开奖期号</label>
                    <input type="text" placeholder="" v-model="form.lastIssue">
                </li>
                <li class="t1">最新开奖信息</li>
                <li>
                    <label for="">开奖期号</label>
                    <input type="text" placeholder="" v-model="form.period">
                </li>
                <li>
                    <label for="">开奖号码</label>
                    <input type="text" placeholder="开奖号码以逗号隔开如：01,02,03,04,05,06,07" v-model="form.content">
                </li>
                <li class="t1">
                    <label for="">验证码（必填）</label>
                    <input type="text" required placeholder="请输入验证码" v-model="form.verification">
                </li>
                <li class="flex t1">
                    <label for="">是否清空redis（一般不需要清空）</label>
                    <input  type="checkbox" value="true" v-model="form.resetRedis">
                    <span>{{form.resetRedis ? '（是）' : "（否）"}}</span>
                </li>
            </ul>
            <button type="submit">提交</button>
        </form>
        
    </div>
    <script src="vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        var url = 'http://127.0.0.1/php/aomenlhc'
        new Vue({
            el:"#vue",
            data() {
                return {
                    form:{
                        issue:"",
                        lastIssue:"",
                        period:"",
                        content:"",
                        verification:"",
                        resetRedis:false
                    }
                }
            },
            methods: {
                onSubmit(){
                   axios.post(url+'/api.php?manual=1',this.form)
                    .then(res => {
                        console.log(res)
                        if(res.data.code==1){
                            alert('设置成功')
                        }else{
                            alert(res.data.msg)
                        }
                    })
                    .catch(err => {
                        console.error(err); 
                        alert('系统错误,稍后再试')
                    })
                }
            },
            mounted() {
               
            },
        })
    </script>
</body>
</html>